var qi=Object.defineProperty;var a=(n,t)=>qi(n,"name",{value:t,configurable:!0});var zt=Math.min,wt=Math.max,Xt=Math.round;var at=a(n=>({x:n,y:n}),"createCoords"),Ji={left:"right",right:"left",bottom:"top",top:"bottom"},Qi={start:"end",end:"start"};function Le(n,t,e){return wt(n,zt(t,e))}a(Le,"clamp");function Kt(n,t){return typeof n=="function"?n(t):n}a(Kt,"evaluate");function St(n){return n.split("-")[0]}a(St,"getSide");function Yt(n){return n.split("-")[1]}a(Yt,"getAlignment");function Ie(n){return n==="x"?"y":"x"}a(Ie,"getOppositeAxis");function Te(n){return n==="y"?"height":"width"}a(Te,"getAxisLength");var Zi=new Set(["top","bottom"]);function pt(n){return Zi.has(St(n))?"y":"x"}a(pt,"getSideAxis");function Me(n){return Ie(pt(n))}a(Me,"getAlignmentAxis");function Ze(n,t,e){e===void 0&&(e=!1);let i=Yt(n),o=Me(n),s=Te(o),r=o==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(r=Wt(r)),[r,Wt(r)]}a(Ze,"getAlignmentSides");function ti(n){let t=Wt(n);return[se(n),t,se(t)]}a(ti,"getExpandedPlacements");function se(n){return n.replace(/start|end/g,t=>Qi[t])}a(se,"getOppositeAlignmentPlacement");var Je=["left","right"],Qe=["right","left"],tn=["top","bottom"],en=["bottom","top"];function nn(n,t,e){switch(n){case"top":case"bottom":return e?t?Qe:Je:t?Je:Qe;case"left":case"right":return t?tn:en;default:return[]}}a(nn,"getSideList");function ei(n,t,e,i){let o=Yt(n),s=nn(St(n),e==="start",i);return o&&(s=s.map(r=>r+"-"+o),t&&(s=s.concat(s.map(se)))),s}a(ei,"getOppositeAxisPlacements");function Wt(n){return n.replace(/left|right|bottom|top/g,t=>Ji[t])}a(Wt,"getOppositePlacement");function on(n){return{top:0,right:0,bottom:0,left:0,...n}}a(on,"expandPaddingObject");function ii(n){return typeof n!="number"?on(n):{top:n,right:n,bottom:n,left:n}}a(ii,"getPaddingObject");function Dt(n){let{x:t,y:e,width:i,height:o}=n;return{width:i,height:o,top:e,left:t,right:t+i,bottom:e+o,x:t,y:e}}a(Dt,"rectToClientRect");function ni(n,t,e){let{reference:i,floating:o}=n,s=pt(t),r=Me(t),l=Te(r),c=St(t),d=s==="y",f=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,g=i[l]/2-o[l]/2,p;switch(c){case"top":p={x:f,y:i.y-o.height};break;case"bottom":p={x:f,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-o.width,y:h};break;default:p={x:i.x,y:i.y}}switch(Yt(t)){case"start":p[r]-=g*(e&&d?-1:1);break;case"end":p[r]+=g*(e&&d?-1:1);break}return p}a(ni,"computeCoordsFromPlacement");var oi=a(async(n,t,e)=>{let{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=e,l=s.filter(Boolean),c=await(r.isRTL==null?void 0:r.isRTL(t)),d=await r.getElementRects({reference:n,floating:t,strategy:o}),{x:f,y:h}=ni(d,i,c),g=i,p={},m=0;for(let b=0;b<l.length;b++){let{name:x,fn:D}=l[b],{x:S,y:A,data:C,reset:L}=await D({x:f,y:h,initialPlacement:i,placement:g,strategy:o,middlewareData:p,rects:d,platform:r,elements:{reference:n,floating:t}});f=S??f,h=A??h,p={...p,[x]:{...p[x],...C}},L&&m<=50&&(m++,typeof L=="object"&&(L.placement&&(g=L.placement),L.rects&&(d=L.rects===!0?await r.getElementRects({reference:n,floating:t,strategy:o}):L.rects),{x:f,y:h}=ni(d,g,c)),b=-1)}return{x:f,y:h,placement:g,strategy:o,middlewareData:p}},"computePosition");async function _e(n,t){var e;t===void 0&&(t={});let{x:i,y:o,platform:s,rects:r,elements:l,strategy:c}=n,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:p=0}=Kt(t,n),m=ii(p),x=l[g?h==="floating"?"reference":"floating":h],D=Dt(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(x)))==null||e?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),S=h==="floating"?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),C=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},L=Dt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:A,strategy:c}):S);return{top:(D.top-L.top+m.top)/C.y,bottom:(L.bottom-D.bottom+m.bottom)/C.y,left:(D.left-L.left+m.left)/C.x,right:(L.right-D.right+m.right)/C.x}}a(_e,"detectOverflow");var si=a(function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;let{placement:o,middlewareData:s,rects:r,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:b=!0,...x}=Kt(n,t);if((e=s.arrow)!=null&&e.alignmentOffset)return{};let D=St(o),S=pt(l),A=St(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(d.floating)),L=g||(A||!b?[Wt(l)]:ti(l)),V=m!=="none";!g&&V&&L.push(...ei(l,b,m,C));let Z=[l,...L],tt=await _e(t,x),M=[],z=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&M.push(tt[D]),h){let B=Ze(o,r,C);M.push(tt[B[0]],tt[B[1]])}if(z=[...z,{placement:o,overflows:M}],!M.every(B=>B<=0)){var X,nt;let B=(((X=s.flip)==null?void 0:X.index)||0)+1,G=Z[B];if(G&&(!(h==="alignment"?S!==pt(G):!1)||z.every(P=>pt(P.placement)===S?P.overflows[0]>0:!0)))return{data:{index:B,overflows:z},reset:{placement:G}};let F=(nt=z.filter(Y=>Y.overflows[0]<=0).sort((Y,P)=>Y.overflows[1]-P.overflows[1])[0])==null?void 0:nt.placement;if(!F)switch(p){case"bestFit":{var K;let Y=(K=z.filter(P=>{if(V){let j=pt(P.placement);return j===S||j==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(j=>j>0).reduce((j,Mt)=>j+Mt,0)]).sort((P,j)=>P[1]-j[1])[0])==null?void 0:K[0];Y&&(F=Y);break}case"initialPlacement":F=l;break}if(o!==F)return{reset:{placement:F}}}return{}}}},"flip");var sn=new Set(["left","top"]);async function rn(n,t){let{placement:e,platform:i,elements:o}=n,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=St(e),l=Yt(e),c=pt(e)==="y",d=sn.has(r)?-1:1,f=s&&c?-1:1,h=Kt(t,n),{mainAxis:g,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof m=="number"&&(p=l==="end"?m*-1:m),c?{x:p*f,y:g*d}:{x:g*d,y:p*f}}a(rn,"convertValueToCoords");var ri=a(function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;let{x:o,y:s,placement:r,middlewareData:l}=t,c=await rn(t,n);return r===((e=l.offset)==null?void 0:e.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:r}}}}},"offset"),ai=a(function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){let{x:e,y:i,placement:o}=t,{mainAxis:s=!0,crossAxis:r=!1,limiter:l={fn:x=>{let{x:D,y:S}=x;return{x:D,y:S}}},...c}=Kt(n,t),d={x:e,y:i},f=await _e(t,c),h=pt(St(o)),g=Ie(h),p=d[g],m=d[h];if(s){let x=g==="y"?"top":"left",D=g==="y"?"bottom":"right",S=p+f[x],A=p-f[D];p=Le(S,p,A)}if(r){let x=h==="y"?"top":"left",D=h==="y"?"bottom":"right",S=m+f[x],A=m-f[D];m=Le(S,m,A)}let b=l.fn({...t,[g]:p,[h]:m});return{...b,data:{x:b.x-e,y:b.y-i,enabled:{[g]:s,[h]:r}}}}}},"shift");function ae(){return typeof window<"u"}a(ae,"hasWindow");function At(n){return ci(n)?(n.nodeName||"").toLowerCase():"#document"}a(At,"getNodeName");function q(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}a(q,"getWindow");function ht(n){var t;return(t=(ci(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}a(ht,"getDocumentElement");function ci(n){return ae()?n instanceof Node||n instanceof q(n).Node:!1}a(ci,"isNode");function ot(n){return ae()?n instanceof Element||n instanceof q(n).Element:!1}a(ot,"isElement");function lt(n){return ae()?n instanceof HTMLElement||n instanceof q(n).HTMLElement:!1}a(lt,"isHTMLElement");function li(n){return!ae()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof q(n).ShadowRoot}a(li,"isShadowRoot");var an=new Set(["inline","contents"]);function Rt(n){let{overflow:t,overflowX:e,overflowY:i,display:o}=st(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!an.has(o)}a(Rt,"isOverflowElement");var ln=new Set(["table","td","th"]);function di(n){return ln.has(At(n))}a(di,"isTableElement");var cn=[":popover-open",":modal"];function $t(n){return cn.some(t=>{try{return n.matches(t)}catch{return!1}})}a($t,"isTopLayer");var dn=["transform","translate","scale","rotate","perspective"],hn=["transform","translate","scale","rotate","perspective","filter"],fn=["paint","layout","strict","content"];function le(n){let t=ce(),e=ot(n)?st(n):n;return dn.some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||hn.some(i=>(e.willChange||"").includes(i))||fn.some(i=>(e.contain||"").includes(i))}a(le,"isContainingBlock");function hi(n){let t=gt(n);for(;lt(t)&&!Ct(t);){if(le(t))return t;if($t(t))return null;t=gt(t)}return null}a(hi,"getContainingBlock");function ce(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}a(ce,"isWebKit");var un=new Set(["html","body","#document"]);function Ct(n){return un.has(At(n))}a(Ct,"isLastTraversableNode");function st(n){return q(n).getComputedStyle(n)}a(st,"getComputedStyle");function Ut(n){return ot(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}a(Ut,"getNodeScroll");function gt(n){if(At(n)==="html")return n;let t=n.assignedSlot||n.parentNode||li(n)&&n.host||ht(n);return li(t)?t.host:t}a(gt,"getParentNode");function fi(n){let t=gt(n);return Ct(t)?n.ownerDocument?n.ownerDocument.body:n.body:lt(t)&&Rt(t)?t:fi(t)}a(fi,"getNearestOverflowAncestor");function re(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);let o=fi(n),s=o===((i=n.ownerDocument)==null?void 0:i.body),r=q(o);if(s){let l=de(r);return t.concat(r,r.visualViewport||[],Rt(o)?o:[],l&&e?re(l):[])}return t.concat(o,re(o,[],e))}a(re,"getOverflowAncestors");function de(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}a(de,"getFrameElement");function mi(n){let t=st(n),e=parseFloat(t.width)||0,i=parseFloat(t.height)||0,o=lt(n),s=o?n.offsetWidth:e,r=o?n.offsetHeight:i,l=Xt(e)!==s||Xt(i)!==r;return l&&(e=s,i=r),{width:e,height:i,$:l}}a(mi,"getCssDimensions");function bi(n){return ot(n)?n:n.contextElement}a(bi,"unwrapElement");function Pt(n){let t=bi(n);if(!lt(t))return at(1);let e=t.getBoundingClientRect(),{width:i,height:o,$:s}=mi(t),r=(s?Xt(e.width):e.width)/i,l=(s?Xt(e.height):e.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}a(Pt,"getScale");var pn=at(0);function vi(n){let t=q(n);return!ce()||!t.visualViewport?pn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}a(vi,"getVisualOffsets");function gn(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==q(n)?!1:t}a(gn,"shouldAddVisualOffsets");function Gt(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);let o=n.getBoundingClientRect(),s=bi(n),r=at(1);t&&(i?ot(i)&&(r=Pt(i)):r=Pt(n));let l=gn(s,e,i)?vi(s):at(0),c=(o.left+l.x)/r.x,d=(o.top+l.y)/r.y,f=o.width/r.x,h=o.height/r.y;if(s){let g=q(s),p=i&&ot(i)?q(i):i,m=g,b=de(m);for(;b&&i&&p!==m;){let x=Pt(b),D=b.getBoundingClientRect(),S=st(b),A=D.left+(b.clientLeft+parseFloat(S.paddingLeft))*x.x,C=D.top+(b.clientTop+parseFloat(S.paddingTop))*x.y;c*=x.x,d*=x.y,f*=x.x,h*=x.y,c+=A,d+=C,m=q(b),b=de(m)}}return Dt({width:f,height:h,x:c,y:d})}a(Gt,"getBoundingClientRect");function he(n,t){let e=Ut(n).scrollLeft;return t?t.left+e:Gt(ht(n)).left+e}a(he,"getWindowScrollBarX");function yi(n,t){let e=n.getBoundingClientRect(),i=e.left+t.scrollLeft-he(n,e),o=e.top+t.scrollTop;return{x:i,y:o}}a(yi,"getHTMLOffset");function mn(n){let{elements:t,rect:e,offsetParent:i,strategy:o}=n,s=o==="fixed",r=ht(i),l=t?$t(t.floating):!1;if(i===r||l&&s)return e;let c={scrollLeft:0,scrollTop:0},d=at(1),f=at(0),h=lt(i);if((h||!h&&!s)&&((At(i)!=="body"||Rt(r))&&(c=Ut(i)),lt(i))){let p=Gt(i);d=Pt(i),f.x=p.x+i.clientLeft,f.y=p.y+i.clientTop}let g=r&&!h&&!s?yi(r,c):at(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-c.scrollLeft*d.x+f.x+g.x,y:e.y*d.y-c.scrollTop*d.y+f.y+g.y}}a(mn,"convertOffsetParentRelativeRectToViewportRelativeRect");function bn(n){return Array.from(n.getClientRects())}a(bn,"getClientRects");function vn(n){let t=ht(n),e=Ut(n),i=n.ownerDocument.body,o=wt(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=wt(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),r=-e.scrollLeft+he(n),l=-e.scrollTop;return st(i).direction==="rtl"&&(r+=wt(t.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:l}}a(vn,"getDocumentRect");var ui=25;function yn(n,t){let e=q(n),i=ht(n),o=e.visualViewport,s=i.clientWidth,r=i.clientHeight,l=0,c=0;if(o){s=o.width,r=o.height;let f=ce();(!f||f&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}let d=he(i);if(d<=0){let f=i.ownerDocument,h=f.body,g=getComputedStyle(h),p=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,m=Math.abs(i.clientWidth-h.clientWidth-p);m<=ui&&(s-=m)}else d<=ui&&(s+=d);return{width:s,height:r,x:l,y:c}}a(yn,"getViewportRect");var wn=new Set(["absolute","fixed"]);function Sn(n,t){let e=Gt(n,!0,t==="fixed"),i=e.top+n.clientTop,o=e.left+n.clientLeft,s=lt(n)?Pt(n):at(1),r=n.clientWidth*s.x,l=n.clientHeight*s.y,c=o*s.x,d=i*s.y;return{width:r,height:l,x:c,y:d}}a(Sn,"getInnerBoundingClientRect");function pi(n,t,e){let i;if(t==="viewport")i=yn(n,e);else if(t==="document")i=vn(ht(n));else if(ot(t))i=Sn(t,e);else{let o=vi(n);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Dt(i)}a(pi,"getClientRectFromClippingAncestor");function wi(n,t){let e=gt(n);return e===t||!ot(e)||Ct(e)?!1:st(e).position==="fixed"||wi(e,t)}a(wi,"hasFixedPositionAncestor");function xn(n,t){let e=t.get(n);if(e)return e;let i=re(n,[],!1).filter(l=>ot(l)&&At(l)!=="body"),o=null,s=st(n).position==="fixed",r=s?gt(n):n;for(;ot(r)&&!Ct(r);){let l=st(r),c=le(r);!c&&l.position==="fixed"&&(o=null),(s?!c&&!o:!c&&l.position==="static"&&!!o&&wn.has(o.position)||Rt(r)&&!c&&wi(n,r))?i=i.filter(f=>f!==r):o=l,r=gt(r)}return t.set(n,i),i}a(xn,"getClippingElementAncestors");function On(n){let{element:t,boundary:e,rootBoundary:i,strategy:o}=n,r=[...e==="clippingAncestors"?$t(t)?[]:xn(t,this._c):[].concat(e),i],l=r[0],c=r.reduce((d,f)=>{let h=pi(t,f,o);return d.top=wt(h.top,d.top),d.right=zt(h.right,d.right),d.bottom=zt(h.bottom,d.bottom),d.left=wt(h.left,d.left),d},pi(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}a(On,"getClippingRect");function En(n){let{width:t,height:e}=mi(n);return{width:t,height:e}}a(En,"getDimensions");function Dn(n,t,e){let i=lt(t),o=ht(t),s=e==="fixed",r=Gt(n,!0,s,t),l={scrollLeft:0,scrollTop:0},c=at(0);function d(){c.x=he(o)}if(a(d,"setLeftRTLScrollbarOffset"),i||!i&&!s)if((At(t)!=="body"||Rt(o))&&(l=Ut(t)),i){let p=Gt(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else o&&d();s&&!i&&o&&d();let f=o&&!i&&!s?yi(o,l):at(0),h=r.left+l.scrollLeft-c.x-f.x,g=r.top+l.scrollTop-c.y-f.y;return{x:h,y:g,width:r.width,height:r.height}}a(Dn,"getRectRelativeToOffsetParent");function Re(n){return st(n).position==="static"}a(Re,"isStaticPositioned");function gi(n,t){if(!lt(n)||st(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return ht(n)===e&&(e=e.ownerDocument.body),e}a(gi,"getTrueOffsetParent");function Si(n,t){let e=q(n);if($t(n))return e;if(!lt(n)){let o=gt(n);for(;o&&!Ct(o);){if(ot(o)&&!Re(o))return o;o=gt(o)}return e}let i=gi(n,t);for(;i&&di(i)&&Re(i);)i=gi(i,t);return i&&Ct(i)&&Re(i)&&!le(i)?e:i||hi(n)||e}a(Si,"getOffsetParent");var An=a(async function(n){let t=this.getOffsetParent||Si,e=this.getDimensions,i=await e(n.floating);return{reference:Dn(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},"getElementRects");function Cn(n){return st(n).direction==="rtl"}a(Cn,"isRTL");var Ln={convertOffsetParentRelativeRectToViewportRelativeRect:mn,getDocumentElement:ht,getClippingRect:On,getOffsetParent:Si,getElementRects:An,getClientRects:bn,getDimensions:En,getScale:Pt,isElement:ot,isRTL:Cn};var xi=ri;var Oi=ai,Ei=si;var Di=a((n,t,e)=>{let i=new Map,o={platform:Ln,...e},s={...o.platform,_c:i};return oi(n,t,{...o,platform:s})},"computePosition");function Ai(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,i)}return e}a(Ai,"ownKeys");function ut(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ai(Object(e),!0).forEach(function(i){In(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ai(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}a(ut,"_objectSpread2");function me(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?me=a(function(t){return typeof t},"_typeof"):me=a(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),me(n)}a(me,"_typeof");function In(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}a(In,"_defineProperty");function bt(){return bt=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},bt.apply(this,arguments)}a(bt,"_extends");function Tn(n,t){if(n==null)return{};var e={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(t.indexOf(o)>=0)&&(e[o]=n[o]);return e}a(Tn,"_objectWithoutPropertiesLoose");function Mn(n,t){if(n==null)return{};var e=Tn(n,t),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}a(Mn,"_objectWithoutProperties");var _n="1.15.6";function mt(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}a(mt,"userAgent");var vt=mt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ne=mt(/Edge/i),Ci=mt(/firefox/i),Qt=mt(/safari/i)&&!mt(/chrome/i)&&!mt(/android/i),Ue=mt(/iP(ad|od|hone)/i),Ni=mt(/chrome/i)&&mt(/android/i),ki={capture:!1,passive:!1};function E(n,t,e){n.addEventListener(t,e,!vt&&ki)}a(E,"on");function O(n,t,e){n.removeEventListener(t,e,!vt&&ki)}a(O,"off");function Se(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}a(Se,"matches");function Bi(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}a(Bi,"getParentOrHost");function dt(n,t,e,i){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&Se(n,t):Se(n,t))||i&&n===e)return n;if(n===e)break}while(n=Bi(n))}return null}a(dt,"closest");var Li=/\s+/g;function et(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(Li," ").replace(" "+t+" "," ");n.className=(i+(e?" "+t:"")).replace(Li," ")}}a(et,"toggleClass");function v(n,t,e){var i=n&&n.style;if(i){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=e+(typeof e=="string"?"":"px")}}a(v,"css");function Ht(n,t){var e="";if(typeof n=="string")e=n;else do{var i=v(n,"transform");i&&i!=="none"&&(e=i+" "+e)}while(!t&&(n=n.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(e)}a(Ht,"matrix");function Fi(n,t,e){if(n){var i=n.getElementsByTagName(t),o=0,s=i.length;if(e)for(;o<s;o++)e(i[o],o);return i}return[]}a(Fi,"find");function ft(){var n=document.scrollingElement;return n||document.documentElement}a(ft,"getWindowScrollingElement");function k(n,t,e,i,o){if(!(!n.getBoundingClientRect&&n!==window)){var s,r,l,c,d,f,h;if(n!==window&&n.parentNode&&n!==ft()?(s=n.getBoundingClientRect(),r=s.top,l=s.left,c=s.bottom,d=s.right,f=s.height,h=s.width):(r=0,l=0,c=window.innerHeight,d=window.innerWidth,f=window.innerHeight,h=window.innerWidth),(t||e)&&n!==window&&(o=o||n.parentNode,!vt))do if(o&&o.getBoundingClientRect&&(v(o,"transform")!=="none"||e&&v(o,"position")!=="static")){var g=o.getBoundingClientRect();r-=g.top+parseInt(v(o,"border-top-width")),l-=g.left+parseInt(v(o,"border-left-width")),c=r+s.height,d=l+s.width;break}while(o=o.parentNode);if(i&&n!==window){var p=Ht(o||n),m=p&&p.a,b=p&&p.d;p&&(r/=b,l/=m,h/=m,f/=b,c=r+f,d=l+h)}return{top:r,left:l,bottom:c,right:d,width:h,height:f}}}a(k,"getRect");function Ii(n,t,e){for(var i=Et(n,!0),o=k(n)[t];i;){var s=k(i)[e],r=void 0;if(e==="top"||e==="left"?r=o>=s:r=o<=s,!r)return i;if(i===ft())break;i=Et(i,!1)}return!1}a(Ii,"isScrolledPast");function Vt(n,t,e,i){for(var o=0,s=0,r=n.children;s<r.length;){if(r[s].style.display!=="none"&&r[s]!==y.ghost&&(i||r[s]!==y.dragged)&&dt(r[s],e.draggable,n,!1)){if(o===t)return r[s];o++}s++}return null}a(Vt,"getChild");function Ge(n,t){for(var e=n.lastElementChild;e&&(e===y.ghost||v(e,"display")==="none"||t&&!Se(e,t));)e=e.previousElementSibling;return e||null}a(Ge,"lastChild");function rt(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==y.clone&&(!t||Se(n,t))&&e++;return e}a(rt,"index");function Ti(n){var t=0,e=0,i=ft();if(n)do{var o=Ht(n),s=o.a,r=o.d;t+=n.scrollLeft*s,e+=n.scrollTop*r}while(n!==i&&(n=n.parentNode));return[t,e]}a(Ti,"getRelativeScrollOffset");function Rn(n,t){for(var e in n)if(n.hasOwnProperty(e)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[e][i])return Number(e)}return-1}a(Rn,"indexOfObject");function Et(n,t){if(!n||!n.getBoundingClientRect)return ft();var e=n,i=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var o=v(e);if(e.clientWidth<e.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return ft();if(i||t)return e;i=!0}}while(e=e.parentNode);return ft()}a(Et,"getParentAutoScrollElement");function Pn(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}a(Pn,"extend");function Pe(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}a(Pe,"isRectEqual");var Zt;function Hi(n,t){return function(){if(!Zt){var e=arguments,i=this;e.length===1?n.call(i,e[0]):n.apply(i,e),Zt=setTimeout(function(){Zt=void 0},t)}}}a(Hi,"throttle");function Nn(){clearTimeout(Zt),Zt=void 0}a(Nn,"cancelThrottle");function Vi(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}a(Vi,"scrollBy");function Wi(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}a(Wi,"clone");function zi(n,t,e){var i={};return Array.from(n.children).forEach(function(o){var s,r,l,c;if(!(!dt(o,t.draggable,n,!1)||o.animated||o===e)){var d=k(o);i.left=Math.min((s=i.left)!==null&&s!==void 0?s:1/0,d.left),i.top=Math.min((r=i.top)!==null&&r!==void 0?r:1/0,d.top),i.right=Math.max((l=i.right)!==null&&l!==void 0?l:-1/0,d.right),i.bottom=Math.max((c=i.bottom)!==null&&c!==void 0?c:-1/0,d.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}a(zi,"getChildContainingRectFromElement");var Q="Sortable"+new Date().getTime();function kn(){var n=[],t;return{captureAnimationState:a(function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(o){if(!(v(o,"display")==="none"||o===y.ghost)){n.push({target:o,rect:k(o)});var s=ut({},n[n.length-1].rect);if(o.thisAnimationDuration){var r=Ht(o,!0);r&&(s.top-=r.f,s.left-=r.e)}o.fromRect=s}})}},"captureAnimationState"),addAnimationState:a(function(i){n.push(i)},"addAnimationState"),removeAnimationState:a(function(i){n.splice(Rn(n,{target:i}),1)},"removeAnimationState"),animateAll:a(function(i){var o=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var s=!1,r=0;n.forEach(function(l){var c=0,d=l.target,f=d.fromRect,h=k(d),g=d.prevFromRect,p=d.prevToRect,m=l.rect,b=Ht(d,!0);b&&(h.top-=b.f,h.left-=b.e),d.toRect=h,d.thisAnimationDuration&&Pe(g,h)&&!Pe(f,h)&&(m.top-h.top)/(m.left-h.left)===(f.top-h.top)/(f.left-h.left)&&(c=Fn(m,g,p,o.options)),Pe(h,f)||(d.prevFromRect=f,d.prevToRect=h,c||(c=o.options.animation),o.animate(d,m,h,c)),c&&(s=!0,r=Math.max(r,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(t),s?t=setTimeout(function(){typeof i=="function"&&i()},r):typeof i=="function"&&i(),n=[]},"animateAll"),animate:a(function(i,o,s,r){if(r){v(i,"transition",""),v(i,"transform","");var l=Ht(this.el),c=l&&l.a,d=l&&l.d,f=(o.left-s.left)/(c||1),h=(o.top-s.top)/(d||1);i.animatingX=!!f,i.animatingY=!!h,v(i,"transform","translate3d("+f+"px,"+h+"px,0)"),this.forRepaintDummy=Bn(i),v(i,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),v(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){v(i,"transition",""),v(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},r)}},"animate")}}a(kn,"AnimationStateManager");function Bn(n){return n.offsetWidth}a(Bn,"repaint");function Fn(n,t,e,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*i.animation}a(Fn,"calculateRealTime");var Nt=[],Ne={initializeByDefault:!0},oe={mount:a(function(t){for(var e in Ne)Ne.hasOwnProperty(e)&&!(e in t)&&(t[e]=Ne[e]);Nt.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Nt.push(t)},"mount"),pluginEvent:a(function(t,e,i){var o=this;this.eventCanceled=!1,i.cancel=function(){o.eventCanceled=!0};var s=t+"Global";Nt.forEach(function(r){e[r.pluginName]&&(e[r.pluginName][s]&&e[r.pluginName][s](ut({sortable:e},i)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](ut({sortable:e},i)))})},"pluginEvent"),initializePlugins:a(function(t,e,i,o){Nt.forEach(function(l){var c=l.pluginName;if(!(!t.options[c]&&!l.initializeByDefault)){var d=new l(t,e,t.options);d.sortable=t,d.options=t.options,t[c]=d,bt(i,d.defaults)}});for(var s in t.options)if(t.options.hasOwnProperty(s)){var r=this.modifyOption(t,s,t.options[s]);typeof r<"u"&&(t.options[s]=r)}},"initializePlugins"),getEventProperties:a(function(t,e){var i={};return Nt.forEach(function(o){typeof o.eventProperties=="function"&&bt(i,o.eventProperties.call(e[o.pluginName],t))}),i},"getEventProperties"),modifyOption:a(function(t,e,i){var o;return Nt.forEach(function(s){t[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[e]=="function"&&(o=s.optionListeners[e].call(t[s.pluginName],i))}),o},"modifyOption")};function Hn(n){var t=n.sortable,e=n.rootEl,i=n.name,o=n.targetEl,s=n.cloneEl,r=n.toEl,l=n.fromEl,c=n.oldIndex,d=n.newIndex,f=n.oldDraggableIndex,h=n.newDraggableIndex,g=n.originalEvent,p=n.putSortable,m=n.extraEventProperties;if(t=t||e&&e[Q],!!t){var b,x=t.options,D="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!vt&&!ne?b=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(i,!0,!0)),b.to=r||e,b.from=l||e,b.item=o||e,b.clone=s,b.oldIndex=c,b.newIndex=d,b.oldDraggableIndex=f,b.newDraggableIndex=h,b.originalEvent=g,b.pullMode=p?p.lastPutMode:void 0;var S=ut(ut({},m),oe.getEventProperties(i,t));for(var A in S)b[A]=S[A];e&&e.dispatchEvent(b),x[D]&&x[D].call(t,b)}}a(Hn,"dispatchEvent");var Vn=["evt"],J=a(function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.evt,s=Mn(i,Vn);oe.pluginEvent.bind(y)(t,e,ut({dragEl:u,parentEl:_,ghostEl:w,rootEl:I,nextEl:Tt,lastDownEl:be,cloneEl:T,cloneHidden:Ot,dragStarted:jt,putSortable:W,activeSortable:y.active,originalEvent:o,oldIndex:Ft,oldDraggableIndex:te,newIndex:it,newDraggableIndex:xt,hideGhostForTarget:$i,unhideGhostForTarget:Ui,cloneNowHidden:a(function(){Ot=!0},"cloneNowHidden"),cloneNowShown:a(function(){Ot=!1},"cloneNowShown"),dispatchSortableEvent:a(function(l){U({sortable:e,name:l,originalEvent:o})},"dispatchSortableEvent")},s))},"pluginEvent");function U(n){Hn(ut({putSortable:W,cloneEl:T,targetEl:u,rootEl:I,oldIndex:Ft,oldDraggableIndex:te,newIndex:it,newDraggableIndex:xt},n))}a(U,"_dispatchEvent");var u,_,w,I,Tt,be,T,Ot,Ft,it,te,xt,fe,W,Bt=!1,xe=!1,Oe=[],Lt,ct,ke,Be,Mi,_i,jt,kt,ee,ie=!1,ue=!1,ve,$,Fe=[],Xe=!1,Ee=[],Ae=typeof document<"u",pe=Ue,Ri=ne||vt?"cssFloat":"float",Wn=Ae&&!Ni&&!Ue&&"draggable"in document.createElement("div"),Xi=function(){if(Ae){if(vt)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Ki=a(function(t,e){var i=v(t),o=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=Vt(t,0,e),r=Vt(t,1,e),l=s&&v(s),c=r&&v(r),d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+k(s).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+k(r).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var h=l.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===h)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||d>=o&&i[Ri]==="none"||r&&i[Ri]==="none"&&d+f>o)?"vertical":"horizontal"},"_detectDirection"),zn=a(function(t,e,i){var o=i?t.left:t.top,s=i?t.right:t.bottom,r=i?t.width:t.height,l=i?e.left:e.top,c=i?e.right:e.bottom,d=i?e.width:e.height;return o===l||s===c||o+r/2===l+d/2},"_dragElInRowColumn"),Xn=a(function(t,e){var i;return Oe.some(function(o){var s=o[Q].options.emptyInsertThreshold;if(!(!s||Ge(o))){var r=k(o),l=t>=r.left-s&&t<=r.right+s,c=e>=r.top-s&&e<=r.bottom+s;if(l&&c)return i=o}}),i},"_detectNearestEmptySortable"),Yi=a(function(t){function e(s,r){return function(l,c,d,f){var h=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(s==null&&(r||h))return!0;if(s==null||s===!1)return!1;if(r&&s==="clone")return s;if(typeof s=="function")return e(s(l,c,d,f),r)(l,c,d,f);var g=(r?l:c).options.group.name;return s===!0||typeof s=="string"&&s===g||s.join&&s.indexOf(g)>-1}}a(e,"toFn");var i={},o=t.group;(!o||me(o)!="object")&&(o={name:o}),i.name=o.name,i.checkPull=e(o.pull,!0),i.checkPut=e(o.put),i.revertClone=o.revertClone,t.group=i},"_prepareGroup"),$i=a(function(){!Xi&&w&&v(w,"display","none")},"_hideGhostForTarget"),Ui=a(function(){!Xi&&w&&v(w,"display","")},"_unhideGhostForTarget");Ae&&!Ni&&document.addEventListener("click",function(n){if(xe)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),xe=!1,!1},!0);var It=a(function(t){if(u){t=t.touches?t.touches[0]:t;var e=Xn(t.clientX,t.clientY);if(e){var i={};for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[Q]._onDragOver(i)}}},"nearestEmptyInsertDetectEvent"),Kn=a(function(t){u&&u.parentNode[Q]._isOutsideThisEl(t.target)},"_checkOutsideTargetEl");function y(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=bt({},t),n[Q]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:a(function(){return Ki(n,this.options)},"direction"),ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:a(function(r,l){r.setData("Text",l.textContent)},"setData"),dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:y.supportPointer!==!1&&"PointerEvent"in window&&(!Qt||Ue),emptyInsertThreshold:5};oe.initializePlugins(this,n,e);for(var i in e)!(i in t)&&(t[i]=e[i]);Yi(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:Wn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?E(n,"pointerdown",this._onTapStart):(E(n,"mousedown",this._onTapStart),E(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(E(n,"dragover",this),E(n,"dragenter",this)),Oe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),bt(this,kn())}a(y,"Sortable");y.prototype={constructor:y,_isOutsideThisEl:a(function(t){!this.el.contains(t)&&t!==this.el&&(kt=null)},"_isOutsideThisEl"),_getDirection:a(function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,u):this.options.direction},"_getDirection"),_onTapStart:a(function(t){if(t.cancelable){var e=this,i=this.el,o=this.options,s=o.preventOnFilter,r=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(l||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,f=o.filter;if(Qn(i),!u&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||o.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Qt&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=dt(c,o.draggable,i,!1),!(c&&c.animated)&&be!==c)){if(Ft=rt(c),te=rt(c,o.draggable),typeof f=="function"){if(f.call(this,t,c,this)){U({sortable:e,rootEl:d,name:"filter",targetEl:c,toEl:i,fromEl:i}),J("filter",e,{evt:t}),s&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(h){if(h=dt(d,h.trim(),i,!1),h)return U({sortable:e,rootEl:h,name:"filter",targetEl:c,fromEl:i,toEl:i}),J("filter",e,{evt:t}),!0}),f)){s&&t.preventDefault();return}o.handle&&!dt(d,o.handle,i,!1)||this._prepareDragStart(t,l,c)}}},"_onTapStart"),_prepareDragStart:a(function(t,e,i){var o=this,s=o.el,r=o.options,l=s.ownerDocument,c;if(i&&!u&&i.parentNode===s){var d=k(i);if(I=s,u=i,_=u.parentNode,Tt=u.nextSibling,be=i,fe=r.group,y.dragged=u,Lt={target:u,clientX:(e||t).clientX,clientY:(e||t).clientY},Mi=Lt.clientX-d.left,_i=Lt.clientY-d.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,u.style["will-change"]="all",c=a(function(){if(J("delayEnded",o,{evt:t}),y.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Ci&&o.nativeDraggable&&(u.draggable=!0),o._triggerDragStart(t,e),U({sortable:o,name:"choose",originalEvent:t}),et(u,r.chosenClass,!0)},"dragStartFn"),r.ignore.split(",").forEach(function(f){Fi(u,f.trim(),He)}),E(l,"dragover",It),E(l,"mousemove",It),E(l,"touchmove",It),r.supportPointer?(E(l,"pointerup",o._onDrop),!this.nativeDraggable&&E(l,"pointercancel",o._onDrop)):(E(l,"mouseup",o._onDrop),E(l,"touchend",o._onDrop),E(l,"touchcancel",o._onDrop)),Ci&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),J("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(ne||vt))){if(y.eventCanceled){this._onDrop();return}r.supportPointer?(E(l,"pointerup",o._disableDelayedDrag),E(l,"pointercancel",o._disableDelayedDrag)):(E(l,"mouseup",o._disableDelayedDrag),E(l,"touchend",o._disableDelayedDrag),E(l,"touchcancel",o._disableDelayedDrag)),E(l,"mousemove",o._delayedDragTouchMoveHandler),E(l,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&E(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,r.delay)}else c()}},"_prepareDragStart"),_delayedDragTouchMoveHandler:a(function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},"_delayedDragTouchMoveHandler"),_disableDelayedDrag:a(function(){u&&He(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},"_disableDelayedDrag"),_disableDelayedDragEvents:a(function(){var t=this.el.ownerDocument;O(t,"mouseup",this._disableDelayedDrag),O(t,"touchend",this._disableDelayedDrag),O(t,"touchcancel",this._disableDelayedDrag),O(t,"pointerup",this._disableDelayedDrag),O(t,"pointercancel",this._disableDelayedDrag),O(t,"mousemove",this._delayedDragTouchMoveHandler),O(t,"touchmove",this._delayedDragTouchMoveHandler),O(t,"pointermove",this._delayedDragTouchMoveHandler)},"_disableDelayedDragEvents"),_triggerDragStart:a(function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?E(document,"pointermove",this._onTouchMove):e?E(document,"touchmove",this._onTouchMove):E(document,"mousemove",this._onTouchMove):(E(u,"dragend",this),E(I,"dragstart",this._onDragStart));try{document.selection?ye(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},"_triggerDragStart"),_dragStarted:a(function(t,e){if(Bt=!1,I&&u){J("dragStarted",this,{evt:e}),this.nativeDraggable&&E(document,"dragover",Kn);var i=this.options;!t&&et(u,i.dragClass,!1),et(u,i.ghostClass,!0),y.active=this,t&&this._appendGhost(),U({sortable:this,name:"start",originalEvent:e})}else this._nulling()},"_dragStarted"),_emulateDragOver:a(function(){if(ct){this._lastX=ct.clientX,this._lastY=ct.clientY,$i();for(var t=document.elementFromPoint(ct.clientX,ct.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ct.clientX,ct.clientY),t!==e);)e=t;if(u.parentNode[Q]._isOutsideThisEl(t),e)do{if(e[Q]){var i=void 0;if(i=e[Q]._onDragOver({clientX:ct.clientX,clientY:ct.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=Bi(e));Ui()}},"_emulateDragOver"),_onTouchMove:a(function(t){if(Lt){var e=this.options,i=e.fallbackTolerance,o=e.fallbackOffset,s=t.touches?t.touches[0]:t,r=w&&Ht(w,!0),l=w&&r&&r.a,c=w&&r&&r.d,d=pe&&$&&Ti($),f=(s.clientX-Lt.clientX+o.x)/(l||1)+(d?d[0]-Fe[0]:0)/(l||1),h=(s.clientY-Lt.clientY+o.y)/(c||1)+(d?d[1]-Fe[1]:0)/(c||1);if(!y.active&&!Bt){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(w){r?(r.e+=f-(ke||0),r.f+=h-(Be||0)):r={a:1,b:0,c:0,d:1,e:f,f:h};var g="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");v(w,"webkitTransform",g),v(w,"mozTransform",g),v(w,"msTransform",g),v(w,"transform",g),ke=f,Be=h,ct=s}t.cancelable&&t.preventDefault()}},"_onTouchMove"),_appendGhost:a(function(){if(!w){var t=this.options.fallbackOnBody?document.body:I,e=k(u,!0,pe,!0,t),i=this.options;if(pe){for($=t;v($,"position")==="static"&&v($,"transform")==="none"&&$!==document;)$=$.parentNode;$!==document.body&&$!==document.documentElement?($===document&&($=ft()),e.top+=$.scrollTop,e.left+=$.scrollLeft):$=ft(),Fe=Ti($)}w=u.cloneNode(!0),et(w,i.ghostClass,!1),et(w,i.fallbackClass,!0),et(w,i.dragClass,!0),v(w,"transition",""),v(w,"transform",""),v(w,"box-sizing","border-box"),v(w,"margin",0),v(w,"top",e.top),v(w,"left",e.left),v(w,"width",e.width),v(w,"height",e.height),v(w,"opacity","0.8"),v(w,"position",pe?"absolute":"fixed"),v(w,"zIndex","100000"),v(w,"pointerEvents","none"),y.ghost=w,t.appendChild(w),v(w,"transform-origin",Mi/parseInt(w.style.width)*100+"% "+_i/parseInt(w.style.height)*100+"%")}},"_appendGhost"),_onDragStart:a(function(t,e){var i=this,o=t.dataTransfer,s=i.options;if(J("dragStart",this,{evt:t}),y.eventCanceled){this._onDrop();return}J("setupClone",this),y.eventCanceled||(T=Wi(u),T.removeAttribute("id"),T.draggable=!1,T.style["will-change"]="",this._hideClone(),et(T,this.options.chosenClass,!1),y.clone=T),i.cloneId=ye(function(){J("clone",i),!y.eventCanceled&&(i.options.removeCloneOnHide||I.insertBefore(T,u),i._hideClone(),U({sortable:i,name:"clone"}))}),!e&&et(u,s.dragClass,!0),e?(xe=!0,i._loopId=setInterval(i._emulateDragOver,50)):(O(document,"mouseup",i._onDrop),O(document,"touchend",i._onDrop),O(document,"touchcancel",i._onDrop),o&&(o.effectAllowed="move",s.setData&&s.setData.call(i,o,u)),E(document,"drop",i),v(u,"transform","translateZ(0)")),Bt=!0,i._dragStartId=ye(i._dragStarted.bind(i,e,t)),E(document,"selectstart",i),jt=!0,window.getSelection().removeAllRanges(),Qt&&v(document.body,"user-select","none")},"_onDragStart"),_onDragOver:a(function(t){var e=this.el,i=t.target,o,s,r,l=this.options,c=l.group,d=y.active,f=fe===c,h=l.sort,g=W||d,p,m=this,b=!1;if(Xe)return;function x(P,j){J(P,m,ut({evt:t,isOwner:f,axis:p?"vertical":"horizontal",revert:r,dragRect:o,targetRect:s,canSort:h,fromSortable:g,target:i,completed:S,onMove:a(function(H,_t){return ge(I,e,u,o,H,k(H),t,_t)},"onMove"),changed:A},j))}a(x,"dragOverEvent");function D(){x("dragOverAnimationCapture"),m.captureAnimationState(),m!==g&&g.captureAnimationState()}a(D,"capture");function S(P){return x("dragOverCompleted",{insertion:P}),P&&(f?d._hideClone():d._showClone(m),m!==g&&(et(u,W?W.options.ghostClass:d.options.ghostClass,!1),et(u,l.ghostClass,!0)),W!==m&&m!==y.active?W=m:m===y.active&&W&&(W=null),g===m&&(m._ignoreWhileAnimating=i),m.animateAll(function(){x("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(i===u&&!u.animated||i===e&&!i.animated)&&(kt=null),!l.dragoverBubble&&!t.rootEl&&i!==document&&(u.parentNode[Q]._isOutsideThisEl(t.target),!P&&It(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}a(S,"completed");function A(){it=rt(u),xt=rt(u,l.draggable),U({sortable:m,name:"change",toEl:e,newIndex:it,newDraggableIndex:xt,originalEvent:t})}if(a(A,"changed"),t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=dt(i,l.draggable,e,!0),x("dragOver"),y.eventCanceled)return b;if(u.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||m._ignoreWhileAnimating===i)return S(!1);if(xe=!1,d&&!l.disabled&&(f?h||(r=_!==I):W===this||(this.lastPutMode=fe.checkPull(this,d,u,t))&&c.checkPut(this,d,u,t))){if(p=this._getDirection(t,i)==="vertical",o=k(u),x("dragOverValid"),y.eventCanceled)return b;if(r)return _=I,D(),this._hideClone(),x("revert"),y.eventCanceled||(Tt?I.insertBefore(u,Tt):I.appendChild(u)),S(!0);var C=Ge(e,l.draggable);if(!C||Gn(t,p,this)&&!C.animated){if(C===u)return S(!1);if(C&&e===t.target&&(i=C),i&&(s=k(i)),ge(I,e,u,o,i,s,t,!!i)!==!1)return D(),C&&C.nextSibling?e.insertBefore(u,C.nextSibling):e.appendChild(u),_=e,A(),S(!0)}else if(C&&Un(t,p,this)){var L=Vt(e,0,l,!0);if(L===u)return S(!1);if(i=L,s=k(i),ge(I,e,u,o,i,s,t,!1)!==!1)return D(),e.insertBefore(u,L),_=e,A(),S(!0)}else if(i.parentNode===e){s=k(i);var V=0,Z,tt=u.parentNode!==e,M=!zn(u.animated&&u.toRect||o,i.animated&&i.toRect||s,p),z=p?"top":"left",X=Ii(i,"top","top")||Ii(u,"top","top"),nt=X?X.scrollTop:void 0;kt!==i&&(Z=s[z],ie=!1,ue=!M&&l.invertSwap||tt),V=jn(t,i,s,p,M?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,ue,kt===i);var K;if(V!==0){var B=rt(u);do B-=V,K=_.children[B];while(K&&(v(K,"display")==="none"||K===w))}if(V===0||K===i)return S(!1);kt=i,ee=V;var G=i.nextElementSibling,F=!1;F=V===1;var Y=ge(I,e,u,o,i,s,t,F);if(Y!==!1)return(Y===1||Y===-1)&&(F=Y===1),Xe=!0,setTimeout($n,30),D(),F&&!G?e.appendChild(u):i.parentNode.insertBefore(u,F?G:i),X&&Vi(X,0,nt-X.scrollTop),_=u.parentNode,Z!==void 0&&!ue&&(ve=Math.abs(Z-k(i)[z])),A(),S(!0)}if(e.contains(u))return S(!1)}return!1},"_onDragOver"),_ignoreWhileAnimating:null,_offMoveEvents:a(function(){O(document,"mousemove",this._onTouchMove),O(document,"touchmove",this._onTouchMove),O(document,"pointermove",this._onTouchMove),O(document,"dragover",It),O(document,"mousemove",It),O(document,"touchmove",It)},"_offMoveEvents"),_offUpEvents:a(function(){var t=this.el.ownerDocument;O(t,"mouseup",this._onDrop),O(t,"touchend",this._onDrop),O(t,"pointerup",this._onDrop),O(t,"pointercancel",this._onDrop),O(t,"touchcancel",this._onDrop),O(document,"selectstart",this)},"_offUpEvents"),_onDrop:a(function(t){var e=this.el,i=this.options;if(it=rt(u),xt=rt(u,i.draggable),J("drop",this,{evt:t}),_=u&&u.parentNode,it=rt(u),xt=rt(u,i.draggable),y.eventCanceled){this._nulling();return}Bt=!1,ue=!1,ie=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ke(this.cloneId),Ke(this._dragStartId),this.nativeDraggable&&(O(document,"drop",this),O(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Qt&&v(document.body,"user-select",""),v(u,"transform",""),t&&(jt&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),w&&w.parentNode&&w.parentNode.removeChild(w),(I===_||W&&W.lastPutMode!=="clone")&&T&&T.parentNode&&T.parentNode.removeChild(T),u&&(this.nativeDraggable&&O(u,"dragend",this),He(u),u.style["will-change"]="",jt&&!Bt&&et(u,W?W.options.ghostClass:this.options.ghostClass,!1),et(u,this.options.chosenClass,!1),U({sortable:this,name:"unchoose",toEl:_,newIndex:null,newDraggableIndex:null,originalEvent:t}),I!==_?(it>=0&&(U({rootEl:_,name:"add",toEl:_,fromEl:I,originalEvent:t}),U({sortable:this,name:"remove",toEl:_,originalEvent:t}),U({rootEl:_,name:"sort",toEl:_,fromEl:I,originalEvent:t}),U({sortable:this,name:"sort",toEl:_,originalEvent:t})),W&&W.save()):it!==Ft&&it>=0&&(U({sortable:this,name:"update",toEl:_,originalEvent:t}),U({sortable:this,name:"sort",toEl:_,originalEvent:t})),y.active&&((it==null||it===-1)&&(it=Ft,xt=te),U({sortable:this,name:"end",toEl:_,originalEvent:t}),this.save()))),this._nulling()},"_onDrop"),_nulling:a(function(){J("nulling",this),I=u=_=w=Tt=T=be=Ot=Lt=ct=jt=it=xt=Ft=te=kt=ee=W=fe=y.dragged=y.ghost=y.clone=y.active=null,Ee.forEach(function(t){t.checked=!0}),Ee.length=ke=Be=0},"_nulling"),handleEvent:a(function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":u&&(this._onDragOver(t),Yn(t));break;case"selectstart":t.preventDefault();break}},"handleEvent"),toArray:a(function(){for(var t=[],e,i=this.el.children,o=0,s=i.length,r=this.options;o<s;o++)e=i[o],dt(e,r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Jn(e));return t},"toArray"),sort:a(function(t,e){var i={},o=this.el;this.toArray().forEach(function(s,r){var l=o.children[r];dt(l,this.options.draggable,o,!1)&&(i[s]=l)},this),e&&this.captureAnimationState(),t.forEach(function(s){i[s]&&(o.removeChild(i[s]),o.appendChild(i[s]))}),e&&this.animateAll()},"sort"),save:a(function(){var t=this.options.store;t&&t.set&&t.set(this)},"save"),closest:a(function(t,e){return dt(t,e||this.options.draggable,this.el,!1)},"closest$1"),option:a(function(t,e){var i=this.options;if(e===void 0)return i[t];var o=oe.modifyOption(this,t,e);typeof o<"u"?i[t]=o:i[t]=e,t==="group"&&Yi(i)},"option"),destroy:a(function(){J("destroy",this);var t=this.el;t[Q]=null,O(t,"mousedown",this._onTapStart),O(t,"touchstart",this._onTapStart),O(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(O(t,"dragover",this),O(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Oe.splice(Oe.indexOf(this.el),1),this.el=t=null},"destroy"),_hideClone:a(function(){if(!Ot){if(J("hideClone",this),y.eventCanceled)return;v(T,"display","none"),this.options.removeCloneOnHide&&T.parentNode&&T.parentNode.removeChild(T),Ot=!0}},"_hideClone"),_showClone:a(function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ot){if(J("showClone",this),y.eventCanceled)return;u.parentNode==I&&!this.options.group.revertClone?I.insertBefore(T,u):Tt?I.insertBefore(T,Tt):I.appendChild(T),this.options.group.revertClone&&this.animate(u,T),v(T,"display",""),Ot=!1}},"_showClone")};function Yn(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}a(Yn,"_globalDragOver");function ge(n,t,e,i,o,s,r,l){var c,d=n[Q],f=d.options.onMove,h;return window.CustomEvent&&!vt&&!ne?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=n,c.dragged=e,c.draggedRect=i,c.related=o||t,c.relatedRect=s||k(t),c.willInsertAfter=l,c.originalEvent=r,n.dispatchEvent(c),f&&(h=f.call(d,c,r)),h}a(ge,"_onMove");function He(n){n.draggable=!1}a(He,"_disableDraggable");function $n(){Xe=!1}a($n,"_unsilent");function Un(n,t,e){var i=k(Vt(e.el,0,e.options,!0)),o=zi(e.el,e.options,w),s=10;return t?n.clientX<o.left-s||n.clientY<i.top&&n.clientX<i.right:n.clientY<o.top-s||n.clientY<i.bottom&&n.clientX<i.left}a(Un,"_ghostIsFirst");function Gn(n,t,e){var i=k(Ge(e.el,e.options.draggable)),o=zi(e.el,e.options,w),s=10;return t?n.clientX>o.right+s||n.clientY>i.bottom&&n.clientX>i.left:n.clientY>o.bottom+s||n.clientX>i.right&&n.clientY>i.top}a(Gn,"_ghostIsLast");function jn(n,t,e,i,o,s,r,l){var c=i?n.clientY:n.clientX,d=i?e.height:e.width,f=i?e.top:e.left,h=i?e.bottom:e.right,g=!1;if(!r){if(l&&ve<d*o){if(!ie&&(ee===1?c>f+d*s/2:c<h-d*s/2)&&(ie=!0),ie)g=!0;else if(ee===1?c<f+ve:c>h-ve)return-ee}else if(c>f+d*(1-o)/2&&c<h-d*(1-o)/2)return qn(t)}return g=g||r,g&&(c<f+d*s/2||c>h-d*s/2)?c>f+d/2?1:-1:0}a(jn,"_getSwapDirection");function qn(n){return rt(u)<rt(n)?1:-1}a(qn,"_getInsertDirection");function Jn(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,i=0;e--;)i+=t.charCodeAt(e);return i.toString(36)}a(Jn,"_generateId");function Qn(n){Ee.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var i=t[e];i.checked&&Ee.push(i)}}a(Qn,"_saveInputCheckedState");function ye(n){return setTimeout(n,0)}a(ye,"_nextTick");function Ke(n){return clearTimeout(n)}a(Ke,"_cancelNextTick");Ae&&E(document,"touchmove",function(n){(y.active||Bt)&&n.cancelable&&n.preventDefault()});y.utils={on:E,off:O,css:v,find:Fi,is:a(function(t,e){return!!dt(t,e,t,!1)},"is"),extend:Pn,throttle:Hi,closest:dt,toggleClass:et,clone:Wi,index:rt,nextTick:ye,cancelNextTick:Ke,detectDirection:Ki,getChild:Vt,expando:Q};y.get=function(n){return n[Q]};y.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(y.utils=ut(ut({},y.utils),i.utils)),oe.mount(i)})};y.create=function(n,t){return new y(n,t)};y.version=_n;var N=[],qt,Ye,$e=!1,Ve,We,De,Jt;function Zn(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return a(n,"AutoScroll"),n.prototype={dragStarted:a(function(e){var i=e.originalEvent;this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):this.options.supportPointer?E(document,"pointermove",this._handleFallbackAutoScroll):i.touches?E(document,"touchmove",this._handleFallbackAutoScroll):E(document,"mousemove",this._handleFallbackAutoScroll)},"dragStarted"),dragOverCompleted:a(function(e){var i=e.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},"dragOverCompleted"),drop:a(function(){this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):(O(document,"pointermove",this._handleFallbackAutoScroll),O(document,"touchmove",this._handleFallbackAutoScroll),O(document,"mousemove",this._handleFallbackAutoScroll)),Pi(),we(),Nn()},"drop"),nulling:a(function(){De=Ye=qt=$e=Jt=Ve=We=null,N.length=0},"nulling"),_handleFallbackAutoScroll:a(function(e){this._handleAutoScroll(e,!0)},"_handleFallbackAutoScroll"),_handleAutoScroll:a(function(e,i){var o=this,s=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,l=document.elementFromPoint(s,r);if(De=e,i||this.options.forceAutoScrollFallback||ne||vt||Qt){ze(e,this.options,l,i);var c=Et(l,!0);$e&&(!Jt||s!==Ve||r!==We)&&(Jt&&Pi(),Jt=setInterval(function(){var d=Et(document.elementFromPoint(s,r),!0);d!==c&&(c=d,we()),ze(e,o.options,d,i)},10),Ve=s,We=r)}else{if(!this.options.bubbleScroll||Et(l,!0)===ft()){we();return}ze(e,this.options,Et(l,!1),!1)}},"_handleAutoScroll")},bt(n,{pluginName:"scroll",initializeByDefault:!0})}a(Zn,"AutoScrollPlugin");function we(){N.forEach(function(n){clearInterval(n.pid)}),N=[]}a(we,"clearAutoScrolls");function Pi(){clearInterval(Jt)}a(Pi,"clearPointerElemChangedInterval");var ze=Hi(function(n,t,e,i){if(t.scroll){var o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,r=t.scrollSensitivity,l=t.scrollSpeed,c=ft(),d=!1,f;Ye!==e&&(Ye=e,we(),qt=t.scroll,f=t.scrollFn,qt===!0&&(qt=Et(e,!0)));var h=0,g=qt;do{var p=g,m=k(p),b=m.top,x=m.bottom,D=m.left,S=m.right,A=m.width,C=m.height,L=void 0,V=void 0,Z=p.scrollWidth,tt=p.scrollHeight,M=v(p),z=p.scrollLeft,X=p.scrollTop;p===c?(L=A<Z&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),V=C<tt&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(L=A<Z&&(M.overflowX==="auto"||M.overflowX==="scroll"),V=C<tt&&(M.overflowY==="auto"||M.overflowY==="scroll"));var nt=L&&(Math.abs(S-o)<=r&&z+A<Z)-(Math.abs(D-o)<=r&&!!z),K=V&&(Math.abs(x-s)<=r&&X+C<tt)-(Math.abs(b-s)<=r&&!!X);if(!N[h])for(var B=0;B<=h;B++)N[B]||(N[B]={});(N[h].vx!=nt||N[h].vy!=K||N[h].el!==p)&&(N[h].el=p,N[h].vx=nt,N[h].vy=K,clearInterval(N[h].pid),(nt!=0||K!=0)&&(d=!0,N[h].pid=setInterval(function(){i&&this.layer===0&&y.active._onTouchMove(De);var G=N[this.layer].vy?N[this.layer].vy*l:0,F=N[this.layer].vx?N[this.layer].vx*l:0;typeof f=="function"&&f.call(y.dragged.parentNode[Q],F,G,n,De,N[this.layer].el)!=="continue"||Vi(N[this.layer].el,F,G)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&g!==c&&(g=Et(g,!1)));$e=d}},30),Gi=a(function(t){var e=t.originalEvent,i=t.putSortable,o=t.dragEl,s=t.activeSortable,r=t.dispatchSortableEvent,l=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(e){var d=i||s;l();var f=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,h=document.elementFromPoint(f.clientX,f.clientY);c(),d&&!d.el.contains(h)&&(r("spill"),this.onSpill({dragEl:o,putSortable:i}))}},"drop");function je(){}a(je,"Revert");je.prototype={startIndex:null,dragStart:a(function(t){var e=t.oldDraggableIndex;this.startIndex=e},"dragStart"),onSpill:a(function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var o=Vt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},"onSpill"),drop:Gi};bt(je,{pluginName:"revertOnSpill"});function qe(){}a(qe,"Remove");qe.prototype={onSpill:a(function(t){var e=t.dragEl,i=t.putSortable,o=i||this.sortable;o.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),o.animateAll()},"onSpill"),drop:Gi};bt(qe,{pluginName:"removeOnSpill"});y.mount(new Zn);y.mount(qe,je);var ji=y;function yt(n){return n==null||n===""||typeof n=="string"&&n.trim()===""}a(yt,"blank");function R(n){return!yt(n)}a(R,"filled");var Ce=class{static{a(this,"Select")}constructor({canOptionLabelsWrap:t=!0,canSelectPlaceholder:e=!0,element:i,getOptionLabelUsing:o=null,getOptionLabelsUsing:s=null,getOptionsUsing:r=null,getSearchResultsUsing:l=null,hasDynamicOptions:c=!1,hasDynamicSearchResults:d=!0,hasInitialNoOptionsMessage:f=!1,initialOptionLabel:h=null,initialOptionLabels:g=null,initialState:p=null,isAutofocused:m=!1,isDisabled:b=!1,isHtmlAllowed:x=!1,isMultiple:D=!1,isReorderable:S=!1,isSearchable:A=!1,livewireId:C=null,loadingMessage:L="Loading...",maxItems:V=null,maxItemsMessage:Z="Maximum number of items selected",noOptionsMessage:tt="No options available",noSearchResultsMessage:M="No results found",onStateChange:z=a(()=>{},"onStateChange"),options:X,optionsLimit:nt=null,placeholder:K,position:B=null,searchableOptionFields:G=["label"],searchDebounce:F=1e3,searchingMessage:Y="Searching...",searchPrompt:P="Search...",state:j,statePath:Mt=null}){this.canOptionLabelsWrap=t,this.canSelectPlaceholder=e,this.element=i,this.getOptionLabelUsing=o,this.getOptionLabelsUsing=s,this.getOptionsUsing=r,this.getSearchResultsUsing=l,this.hasDynamicOptions=c,this.hasDynamicSearchResults=d,this.hasInitialNoOptionsMessage=f,this.initialOptionLabel=h,this.initialOptionLabels=g,this.initialState=p,this.isAutofocused=m,this.isDisabled=b,this.isHtmlAllowed=x,this.isMultiple=D,this.isReorderable=S,this.isSearchable=A,this.livewireId=C,this.loadingMessage=L,this.maxItems=V,this.maxItemsMessage=Z,this.noOptionsMessage=tt,this.noSearchResultsMessage=M,this.onStateChange=z,this.options=X,this.optionsLimit=nt,this.originalOptions=JSON.parse(JSON.stringify(X)),this.placeholder=K,this.position=B,this.searchableOptionFields=Array.isArray(G)?G:["label"],this.searchDebounce=F,this.searchingMessage=Y,this.searchPrompt=P,this.state=j,this.statePath=Mt,this.activeSearchId=0,this.labelRepository={},this.isOpen=!1,this.selectedIndex=-1,this.searchQuery="",this.searchTimeout=null,this.isSearching=!1,this.selectedDisplayVersion=0,this.render(),this.setUpEventListeners(),this.isAutofocused&&this.selectButton.focus()}populateLabelRepositoryFromOptions(t){if(!(!t||!Array.isArray(t)))for(let e of t)e.options&&Array.isArray(e.options)?this.populateLabelRepositoryFromOptions(e.options):e.value!==void 0&&e.label!==void 0&&(this.labelRepository[e.value]=e.label)}render(){this.populateLabelRepositoryFromOptions(this.options),this.container=document.createElement("div"),this.container.className="fi-select-input-ctn",this.canOptionLabelsWrap||this.container.classList.add("fi-select-input-ctn-option-labels-not-wrapped"),this.container.setAttribute("aria-haspopup","listbox"),this.selectButton=document.createElement("button"),this.selectButton.className="fi-select-input-btn",this.selectButton.type="button",this.selectButton.setAttribute("aria-expanded","false"),this.selectedDisplay=document.createElement("div"),this.selectedDisplay.className="fi-select-input-value-ctn",this.updateSelectedDisplay(),this.selectButton.appendChild(this.selectedDisplay),this.dropdown=document.createElement("div"),this.dropdown.className="fi-dropdown-panel fi-scrollable",this.dropdown.setAttribute("role","listbox"),this.dropdown.setAttribute("tabindex","-1"),this.dropdown.style.display="none",this.dropdownId=`fi-select-input-dropdown-${Math.random().toString(36).substring(2,11)}`,this.dropdown.id=this.dropdownId,this.isMultiple&&this.dropdown.setAttribute("aria-multiselectable","true"),this.isSearchable&&(this.searchContainer=document.createElement("div"),this.searchContainer.className="fi-select-input-search-ctn",this.searchInput=document.createElement("input"),this.searchInput.className="fi-input",this.searchInput.type="text",this.searchInput.placeholder=this.searchPrompt,this.searchInput.setAttribute("aria-label","Search"),this.searchContainer.appendChild(this.searchInput),this.dropdown.appendChild(this.searchContainer),this.searchInput.addEventListener("input",t=>{this.isDisabled||this.handleSearch(t)}),this.searchInput.addEventListener("keydown",t=>{if(!this.isDisabled){if(t.key==="Tab"){t.preventDefault();let e=this.getVisibleOptions();if(e.length===0)return;t.shiftKey?this.selectedIndex=e.length-1:this.selectedIndex=0,e.forEach(i=>{i.classList.remove("fi-selected")}),e[this.selectedIndex].classList.add("fi-selected"),e[this.selectedIndex].focus()}else if(t.key==="ArrowDown"){if(t.preventDefault(),t.stopPropagation(),this.getVisibleOptions().length===0)return;this.selectedIndex=-1,this.searchInput.blur(),this.focusNextOption()}else if(t.key==="ArrowUp"){t.preventDefault(),t.stopPropagation();let e=this.getVisibleOptions();if(e.length===0)return;this.selectedIndex=e.length-1,this.searchInput.blur(),e[this.selectedIndex].classList.add("fi-selected"),e[this.selectedIndex].focus(),e[this.selectedIndex].id&&this.dropdown.setAttribute("aria-activedescendant",e[this.selectedIndex].id),this.scrollOptionIntoView(e[this.selectedIndex])}else if(t.key==="Enter"){if(t.preventDefault(),t.stopPropagation(),this.isSearching)return;let e=this.getVisibleOptions();if(e.length===0)return;let i=e.find(s=>{let r=s.getAttribute("aria-disabled")==="true",l=s.classList.contains("fi-disabled"),c=s.offsetParent===null;return!(r||l||c)});if(!i)return;let o=i.getAttribute("data-value");if(o===null)return;this.selectOption(o)}}})),this.optionsList=document.createElement("ul"),this.renderOptions(),this.container.appendChild(this.selectButton),this.container.appendChild(this.dropdown),this.element.appendChild(this.container),this.applyDisabledState()}renderOptions(){this.optionsList.innerHTML="";let t=0,e=this.options,i=0,o=!1;this.options.forEach(l=>{l.options&&Array.isArray(l.options)?(i+=l.options.length,o=!0):i++}),o?this.optionsList.className="fi-select-input-options-ctn":i>0&&(this.optionsList.className="fi-dropdown-list");let s=o?null:this.optionsList,r=0;for(let l of e){if(this.optionsLimit&&r>=this.optionsLimit)break;if(l.options&&Array.isArray(l.options)){let c=l.options;if(this.isMultiple&&Array.isArray(this.state)&&this.state.length>0&&(c=l.options.filter(d=>!this.state.includes(d.value))),c.length>0){if(this.optionsLimit){let d=this.optionsLimit-r;d<c.length&&(c=c.slice(0,d))}this.renderOptionGroup(l.label,c),r+=c.length,t+=c.length}}else{if(this.isMultiple&&Array.isArray(this.state)&&this.state.includes(l.value))continue;!s&&o&&(s=document.createElement("ul"),s.className="fi-dropdown-list",this.optionsList.appendChild(s));let c=this.createOptionElement(l.value,l);s.appendChild(c),r++,t++}}t===0?(this.searchQuery?this.showNoResultsMessage():this.hasInitialNoOptionsMessage||this.hasDynamicOptions?this.showNoOptionsMessage():this.isMultiple&&this.isOpen&&!this.isSearchable&&this.closeDropdown(),this.optionsList.parentNode===this.dropdown&&this.dropdown.removeChild(this.optionsList)):(this.hideLoadingState(),this.optionsList.parentNode!==this.dropdown&&this.dropdown.appendChild(this.optionsList))}renderOptionGroup(t,e){if(e.length===0)return;let i=document.createElement("li");i.className="fi-select-input-option-group";let o=document.createElement("div");o.className="fi-dropdown-header",o.textContent=t;let s=document.createElement("ul");s.className="fi-dropdown-list",e.forEach(r=>{let l=this.createOptionElement(r.value,r);s.appendChild(l)}),i.appendChild(o),i.appendChild(s),this.optionsList.appendChild(i)}createOptionElement(t,e){let i=t,o=e,s=!1;typeof e=="object"&&e!==null&&"label"in e&&"value"in e&&(i=e.value,o=e.label,s=e.isDisabled||!1);let r=document.createElement("li");r.className="fi-dropdown-list-item fi-select-input-option",s&&r.classList.add("fi-disabled");let l=`fi-select-input-option-${Math.random().toString(36).substring(2,11)}`;if(r.id=l,r.setAttribute("role","option"),r.setAttribute("data-value",i),r.setAttribute("tabindex","0"),s&&r.setAttribute("aria-disabled","true"),this.isHtmlAllowed&&typeof o=="string"){let f=document.createElement("div");f.innerHTML=o;let h=f.textContent||f.innerText||o;r.setAttribute("aria-label",h)}let c=this.isMultiple?Array.isArray(this.state)&&this.state.includes(i):this.state===i;r.setAttribute("aria-selected",c?"true":"false"),c&&r.classList.add("fi-selected");let d=document.createElement("span");return this.isHtmlAllowed?d.innerHTML=o:d.textContent=o,r.appendChild(d),s||r.addEventListener("click",f=>{f.preventDefault(),f.stopPropagation(),this.selectOption(i),this.isMultiple&&(this.isSearchable&&this.searchInput?setTimeout(()=>{this.searchInput.focus()},0):setTimeout(()=>{r.focus()},0))}),r}async updateSelectedDisplay(){this.selectedDisplayVersion=this.selectedDisplayVersion+1;let t=this.selectedDisplayVersion,e=document.createDocumentFragment();if(this.isMultiple){if(!Array.isArray(this.state)||this.state.length===0){let o=document.createElement("span");o.textContent=this.placeholder,o.classList.add("fi-select-input-placeholder"),e.appendChild(o)}else{let o=await this.getLabelsForMultipleSelection();if(t!==this.selectedDisplayVersion)return;this.addBadgesForSelectedOptions(o,e)}t===this.selectedDisplayVersion&&(this.selectedDisplay.replaceChildren(e),this.isOpen&&this.positionDropdown());return}if(this.state===null||this.state===""){let o=document.createElement("span");if(o.textContent=this.placeholder,o.classList.add("fi-select-input-placeholder"),e.appendChild(o),t===this.selectedDisplayVersion){this.selectedDisplay.replaceChildren(e);let s=this.container.querySelector(".fi-select-input-value-remove-btn");s&&s.remove(),this.container.classList.remove("fi-select-input-ctn-clearable")}return}let i=await this.getLabelForSingleSelection();t===this.selectedDisplayVersion&&(this.addSingleSelectionDisplay(i,e),t===this.selectedDisplayVersion&&this.selectedDisplay.replaceChildren(e))}async getLabelsForMultipleSelection(){let t=this.getSelectedOptionLabels(),e=[];if(Array.isArray(this.state)){for(let o of this.state)if(!R(this.labelRepository[o])){if(R(t[o])){this.labelRepository[o]=t[o];continue}e.push(o.toString())}}if(e.length>0&&R(this.initialOptionLabels)&&JSON.stringify(this.state)===JSON.stringify(this.initialState)){if(Array.isArray(this.initialOptionLabels))for(let o of this.initialOptionLabels)R(o)&&o.value!==void 0&&o.label!==void 0&&e.includes(o.value)&&(this.labelRepository[o.value]=o.label)}else if(e.length>0&&this.getOptionLabelsUsing)try{let o=await this.getOptionLabelsUsing();for(let s of o)R(s)&&s.value!==void 0&&s.label!==void 0&&(this.labelRepository[s.value]=s.label)}catch(o){console.error("Error fetching option labels:",o)}let i=[];if(Array.isArray(this.state))for(let o of this.state)R(this.labelRepository[o])?i.push(this.labelRepository[o]):R(t[o])?i.push(t[o]):i.push(o);return i}createBadgeElement(t,e){let i=document.createElement("span");i.className="fi-badge fi-size-md fi-color fi-color-primary fi-text-color-600 dark:fi-text-color-200",R(t)&&i.setAttribute("data-value",t);let o=document.createElement("span");o.className="fi-badge-label-ctn";let s=document.createElement("span");s.className="fi-badge-label",this.canOptionLabelsWrap&&s.classList.add("fi-wrapped"),this.isHtmlAllowed?s.innerHTML=e:s.textContent=e,o.appendChild(s),i.appendChild(o);let r=this.createRemoveButton(t,e);return i.appendChild(r),i}createRemoveButton(t,e){let i=document.createElement("button");return i.type="button",i.className="fi-badge-delete-btn",i.innerHTML='<svg class="fi-icon fi-size-xs" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon"><path d="M5.28 4.22a.75.75 0 0 0-1.06 1.06L6.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L8 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L9.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L8 6.94 5.28 4.22Z"></path></svg>',i.setAttribute("aria-label","Remove "+(this.isHtmlAllowed?e.replace(/<[^>]*>/g,""):e)),i.addEventListener("click",o=>{o.stopPropagation(),R(t)&&this.selectOption(t)}),i.addEventListener("keydown",o=>{(o.key===" "||o.key==="Enter")&&(o.preventDefault(),o.stopPropagation(),R(t)&&this.selectOption(t))}),i}addBadgesForSelectedOptions(t,e=this.selectedDisplay){let i=document.createElement("div");i.className="fi-select-input-value-badges-ctn",t.forEach((o,s)=>{let r=Array.isArray(this.state)?this.state[s]:null,l=this.createBadgeElement(r,o);i.appendChild(l)}),e.appendChild(i),this.isReorderable&&(i.addEventListener("click",o=>{o.stopPropagation()}),i.addEventListener("mousedown",o=>{o.stopPropagation()}),new ji(i,{animation:150,onEnd:()=>{let o=[];i.querySelectorAll("[data-value]").forEach(s=>{o.push(s.getAttribute("data-value"))}),this.state=o,this.onStateChange(this.state)}}))}async getLabelForSingleSelection(){let t=this.labelRepository[this.state];if(yt(t)&&(t=this.getSelectedOptionLabel(this.state)),yt(t)&&R(this.initialOptionLabel)&&this.state===this.initialState)t=this.initialOptionLabel,R(this.state)&&(this.labelRepository[this.state]=t);else if(yt(t)&&this.getOptionLabelUsing)try{t=await this.getOptionLabelUsing(),R(t)&&R(this.state)&&(this.labelRepository[this.state]=t)}catch(e){console.error("Error fetching option label:",e),t=this.state}else yt(t)&&(t=this.state);return t}addSingleSelectionDisplay(t,e=this.selectedDisplay){let i=document.createElement("span");if(i.className="fi-select-input-value-label",this.isHtmlAllowed?i.innerHTML=t:i.textContent=t,e.appendChild(i),!this.canSelectPlaceholder||this.container.querySelector(".fi-select-input-value-remove-btn"))return;let o=document.createElement("button");o.type="button",o.className="fi-select-input-value-remove-btn",o.innerHTML='<svg class="fi-icon fi-size-sm" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>',o.setAttribute("aria-label","Clear selection"),o.addEventListener("click",s=>{s.stopPropagation(),this.selectOption("")}),o.addEventListener("keydown",s=>{(s.key===" "||s.key==="Enter")&&(s.preventDefault(),s.stopPropagation(),this.selectOption(""))}),this.container.appendChild(o),this.container.classList.add("fi-select-input-ctn-clearable")}getSelectedOptionLabel(t){if(R(this.labelRepository[t]))return this.labelRepository[t];let e="";for(let i of this.options)if(i.options&&Array.isArray(i.options)){for(let o of i.options)if(o.value===t){e=o.label,this.labelRepository[t]=e;break}}else if(i.value===t){e=i.label,this.labelRepository[t]=e;break}return e}setUpEventListeners(){this.buttonClickListener=()=>{this.toggleDropdown()},this.documentClickListener=t=>{!this.container.contains(t.target)&&this.isOpen&&this.closeDropdown()},this.buttonKeydownListener=t=>{this.isDisabled||this.handleSelectButtonKeydown(t)},this.dropdownKeydownListener=t=>{this.isDisabled||this.isSearchable&&document.activeElement===this.searchInput&&!["Tab","Escape"].includes(t.key)||this.handleDropdownKeydown(t)},this.selectButton.addEventListener("click",this.buttonClickListener),document.addEventListener("click",this.documentClickListener),this.selectButton.addEventListener("keydown",this.buttonKeydownListener),this.dropdown.addEventListener("keydown",this.dropdownKeydownListener),!this.isMultiple&&this.livewireId&&this.statePath&&this.getOptionLabelUsing&&(this.refreshOptionLabelListener=async t=>{if(t.detail.livewireId===this.livewireId&&t.detail.statePath===this.statePath&&R(this.state))try{delete this.labelRepository[this.state];let e=await this.getOptionLabelUsing();R(e)&&(this.labelRepository[this.state]=e);let i=this.selectedDisplay.querySelector(".fi-select-input-value-label");R(i)&&(this.isHtmlAllowed?i.innerHTML=e:i.textContent=e),this.updateOptionLabelInList(this.state,e)}catch(e){console.error("Error refreshing option label:",e)}},window.addEventListener("filament-forms::select.refreshSelectedOptionLabel",this.refreshOptionLabelListener))}updateOptionLabelInList(t,e){this.labelRepository[t]=e;let i=this.getVisibleOptions();for(let o of i)if(o.getAttribute("data-value")===String(t)){if(o.innerHTML="",this.isHtmlAllowed){let s=document.createElement("span");s.innerHTML=e,o.appendChild(s)}else o.appendChild(document.createTextNode(e));break}for(let o of this.options)if(o.options&&Array.isArray(o.options)){for(let s of o.options)if(s.value===t){s.label=e;break}}else if(o.value===t){o.label=e;break}for(let o of this.originalOptions)if(o.options&&Array.isArray(o.options)){for(let s of o.options)if(s.value===t){s.label=e;break}}else if(o.value===t){o.label=e;break}}handleSelectButtonKeydown(t){switch(t.key){case"ArrowDown":t.preventDefault(),t.stopPropagation(),this.isOpen?this.focusNextOption():this.openDropdown();break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),this.isOpen?this.focusPreviousOption():this.openDropdown();break;case" ":if(t.preventDefault(),this.isOpen){if(this.selectedIndex>=0){let e=this.getVisibleOptions()[this.selectedIndex];e&&e.click()}}else this.openDropdown();break;case"Enter":break;case"Escape":this.isOpen&&(t.preventDefault(),this.closeDropdown());break;case"Tab":this.isOpen&&this.closeDropdown();break;default:if(this.isSearchable&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&typeof t.key=="string"&&t.key.length===1){t.preventDefault();let e=t.key;this.isOpen||this.openDropdown(),this.searchInput&&(this.searchInput.focus(),this.searchInput.value=(this.searchInput.value||"")+e,this.searchInput.dispatchEvent(new Event("input",{bubbles:!0})))}break}}handleDropdownKeydown(t){switch(t.key){case"ArrowDown":t.preventDefault(),t.stopPropagation(),this.focusNextOption();break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),this.focusPreviousOption();break;case" ":if(t.preventDefault(),this.selectedIndex>=0){let e=this.getVisibleOptions()[this.selectedIndex];e&&e.click()}break;case"Enter":if(t.preventDefault(),this.selectedIndex>=0){let e=this.getVisibleOptions()[this.selectedIndex];e&&e.click()}else{let e=this.element.closest("form");e&&e.submit()}break;case"Escape":t.preventDefault(),this.closeDropdown(),this.selectButton.focus();break;case"Tab":this.closeDropdown();break;default:if(this.isSearchable&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&typeof t.key=="string"&&t.key.length===1){t.preventDefault();let e=t.key;this.searchInput&&(this.searchInput.focus(),this.searchInput.value=(this.searchInput.value||"")+e,this.searchInput.dispatchEvent(new Event("input",{bubbles:!0})))}break}}toggleDropdown(){if(!this.isDisabled){if(this.isOpen){this.closeDropdown();return}this.isMultiple&&!this.isSearchable&&!this.hasAvailableOptions()||this.openDropdown()}}hasAvailableOptions(){for(let t of this.options)if(t.options&&Array.isArray(t.options)){for(let e of t.options)if(!Array.isArray(this.state)||!this.state.includes(e.value))return!0}else if(!Array.isArray(this.state)||!this.state.includes(t.value))return!0;return!1}async openDropdown(){this.dropdown.style.display="block",this.dropdown.style.opacity="0";let t=this.selectButton.closest(".fi-fixed-positioning-context")!==null&&this.selectButton.closest(".fi-absolute-positioning-context")===null;if(this.dropdown.style.position=t?"fixed":"absolute",this.dropdown.style.width=`${this.selectButton.offsetWidth}px`,this.selectButton.setAttribute("aria-expanded","true"),this.isOpen=!0,this.positionDropdown(),this.resizeListener||(this.resizeListener=()=>{this.dropdown.style.width=`${this.selectButton.offsetWidth}px`,this.positionDropdown()},window.addEventListener("resize",this.resizeListener)),this.scrollListener||(this.scrollListener=()=>this.positionDropdown(),window.addEventListener("scroll",this.scrollListener,!0)),this.dropdown.style.opacity="1",this.isSearchable&&this.searchInput&&(this.searchInput.value="",this.searchQuery="",this.hasDynamicOptions||(this.options=JSON.parse(JSON.stringify(this.originalOptions)),this.renderOptions())),this.hasDynamicOptions&&this.getOptionsUsing){this.showLoadingState(!1);try{let e=await this.getOptionsUsing(),i=Array.isArray(e)?e:e&&Array.isArray(e.options)?e.options:[];if(this.options=i,this.originalOptions=JSON.parse(JSON.stringify(i)),this.populateLabelRepositoryFromOptions(i),this.isSearchable&&this.searchInput&&(this.searchInput.value&&this.searchInput.value.trim()!==""||this.searchQuery&&this.searchQuery.trim()!=="")){let o=(this.searchInput.value||this.searchQuery||"").trim().toLowerCase();this.hideLoadingState(),this.filterOptions(o)}else this.renderOptions()}catch(e){console.error("Error fetching options:",e),this.hideLoadingState()}}else(!this.hasInitialNoOptionsMessage||this.searchQuery)&&this.hideLoadingState();if(this.isSearchable&&this.searchInput)this.searchInput.focus();else{this.selectedIndex=-1;let e=this.getVisibleOptions();if(this.isMultiple){if(Array.isArray(this.state)&&this.state.length>0){for(let i=0;i<e.length;i++)if(this.state.includes(e[i].getAttribute("data-value"))){this.selectedIndex=i;break}}}else for(let i=0;i<e.length;i++)if(e[i].getAttribute("data-value")===this.state){this.selectedIndex=i;break}this.selectedIndex===-1&&e.length>0&&(this.selectedIndex=0),this.selectedIndex>=0&&(e[this.selectedIndex].classList.add("fi-selected"),e[this.selectedIndex].focus())}}positionDropdown(){let t=this.position==="top"?"top-start":"bottom-start",e=[xi(4),Oi({padding:5})];this.position!=="top"&&this.position!=="bottom"&&e.push(Ei());let i=this.selectButton.closest(".fi-fixed-positioning-context")!==null&&this.selectButton.closest(".fi-absolute-positioning-context")===null;Di(this.selectButton,this.dropdown,{placement:t,middleware:e,strategy:i?"fixed":"absolute"}).then(({x:o,y:s})=>{Object.assign(this.dropdown.style,{left:`${o}px`,top:`${s}px`})})}closeDropdown(){this.dropdown.style.display="none",this.selectButton.setAttribute("aria-expanded","false"),this.isOpen=!1,this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.activeSearchId++,this.isSearching=!1,this.hideLoadingState(),this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null),this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener,!0),this.scrollListener=null),this.getVisibleOptions().forEach(e=>{e.classList.remove("fi-selected")}),this.dropdown.removeAttribute("aria-activedescendant")}focusNextOption(){let t=this.getVisibleOptions();if(t.length!==0){if(this.selectedIndex>=0&&this.selectedIndex<t.length&&t[this.selectedIndex].classList.remove("fi-selected"),this.selectedIndex===t.length-1&&this.isSearchable&&this.searchInput){this.selectedIndex=-1,this.searchInput.focus(),this.dropdown.removeAttribute("aria-activedescendant");return}this.selectedIndex=(this.selectedIndex+1)%t.length,t[this.selectedIndex].classList.add("fi-selected"),t[this.selectedIndex].focus(),t[this.selectedIndex].id&&this.dropdown.setAttribute("aria-activedescendant",t[this.selectedIndex].id),this.scrollOptionIntoView(t[this.selectedIndex])}}focusPreviousOption(){let t=this.getVisibleOptions();if(t.length!==0){if(this.selectedIndex>=0&&this.selectedIndex<t.length&&t[this.selectedIndex].classList.remove("fi-selected"),(this.selectedIndex===0||this.selectedIndex===-1)&&this.isSearchable&&this.searchInput){this.selectedIndex=-1,this.searchInput.focus(),this.dropdown.removeAttribute("aria-activedescendant");return}this.selectedIndex=(this.selectedIndex-1+t.length)%t.length,t[this.selectedIndex].classList.add("fi-selected"),t[this.selectedIndex].focus(),t[this.selectedIndex].id&&this.dropdown.setAttribute("aria-activedescendant",t[this.selectedIndex].id),this.scrollOptionIntoView(t[this.selectedIndex])}}scrollOptionIntoView(t){if(!t)return;let e=this.dropdown.getBoundingClientRect(),i=t.getBoundingClientRect();i.bottom>e.bottom?this.dropdown.scrollTop+=i.bottom-e.bottom:i.top<e.top&&(this.dropdown.scrollTop-=e.top-i.top)}getVisibleOptions(){let t=[];this.optionsList.classList.contains("fi-dropdown-list")?t=Array.from(this.optionsList.querySelectorAll(':scope > li[role="option"]')):t=Array.from(this.optionsList.querySelectorAll(':scope > ul.fi-dropdown-list > li[role="option"]'));let e=Array.from(this.optionsList.querySelectorAll('li.fi-select-input-option-group > ul > li[role="option"]'));return[...t,...e]}getSelectedOptionLabels(){if(!Array.isArray(this.state)||this.state.length===0)return{};let t={};for(let e of this.state){let i=!1;for(let o of this.options)if(o.options&&Array.isArray(o.options)){for(let s of o.options)if(s.value===e){t[e]=s.label,i=!0;break}if(i)break}else if(o.value===e){t[e]=o.label,i=!0;break}}return t}handleSearch(t){let e=t.target.value.trim();if(this.searchQuery=e,this.searchTimeout&&clearTimeout(this.searchTimeout),e===""){this.options=JSON.parse(JSON.stringify(this.originalOptions)),this.renderOptions();return}if(!this.getSearchResultsUsing||typeof this.getSearchResultsUsing!="function"||!this.hasDynamicSearchResults){this.filterOptions(e);return}this.searchTimeout=setTimeout(async()=>{this.searchTimeout=null;let i=++this.activeSearchId;this.isSearching=!0;try{this.showLoadingState(!0);let o=await this.getSearchResultsUsing(e);if(i!==this.activeSearchId||!this.isOpen)return;let s=Array.isArray(o)?o:o&&Array.isArray(o.options)?o.options:[];this.options=s,this.populateLabelRepositoryFromOptions(s),this.hideLoadingState(),this.renderOptions(),this.isOpen&&this.positionDropdown(),this.options.length===0&&this.showNoResultsMessage()}catch(o){i===this.activeSearchId&&(console.error("Error fetching search results:",o),this.hideLoadingState(),this.options=JSON.parse(JSON.stringify(this.originalOptions)),this.renderOptions())}finally{i===this.activeSearchId&&(this.isSearching=!1)}},this.searchDebounce)}showLoadingState(t=!1){this.optionsList.parentNode===this.dropdown&&this.dropdown.removeChild(this.optionsList),this.hideLoadingState();let e=document.createElement("div");e.className="fi-select-input-message",e.textContent=t?this.searchingMessage:this.loadingMessage,this.dropdown.appendChild(e)}hideLoadingState(){let t=this.dropdown.querySelector(".fi-select-input-message");t&&t.remove()}showNoOptionsMessage(){this.optionsList.parentNode===this.dropdown&&this.dropdown.removeChild(this.optionsList),this.hideLoadingState();let t=document.createElement("div");t.className="fi-select-input-message",t.textContent=this.noOptionsMessage,this.dropdown.appendChild(t)}showNoResultsMessage(){this.optionsList.parentNode===this.dropdown&&this.dropdown.removeChild(this.optionsList),this.hideLoadingState();let t=document.createElement("div");t.className="fi-select-input-message",t.textContent=this.noSearchResultsMessage,this.dropdown.appendChild(t)}filterOptions(t){let e=this.searchableOptionFields.includes("label"),i=this.searchableOptionFields.includes("value");t=t.toLowerCase();let o=[];for(let s of this.originalOptions)if(s.options&&Array.isArray(s.options)){let r=s.options.filter(l=>e&&l.label.toLowerCase().includes(t)||i&&String(l.value).toLowerCase().includes(t));r.length>0&&o.push({label:s.label,options:r})}else(e&&s.label.toLowerCase().includes(t)||i&&String(s.value).toLowerCase().includes(t))&&o.push(s);this.options=o,this.renderOptions(),this.options.length===0&&this.showNoResultsMessage(),this.isOpen&&this.positionDropdown()}selectOption(t){if(this.isDisabled)return;if(!this.isMultiple){this.state=t,this.updateSelectedDisplay(),this.renderOptions(),this.closeDropdown(),this.selectButton.focus(),this.onStateChange(this.state);return}let e=Array.isArray(this.state)?[...this.state]:[];if(e.includes(t)){let o=this.selectedDisplay.querySelector(`[data-value="${t}"]`);if(R(o)){let s=o.parentElement;R(s)&&s.children.length===1?(e=e.filter(r=>r!==t),this.state=e,this.updateSelectedDisplay()):(o.remove(),e=e.filter(r=>r!==t),this.state=e)}else e=e.filter(s=>s!==t),this.state=e,this.updateSelectedDisplay();this.renderOptions(),this.isOpen&&this.positionDropdown(),this.maintainFocusInMultipleMode(),this.onStateChange(this.state);return}if(this.maxItems&&e.length>=this.maxItems){this.maxItemsMessage&&alert(this.maxItemsMessage);return}e.push(t),this.state=e;let i=this.selectedDisplay.querySelector(".fi-select-input-value-badges-ctn");yt(i)?this.updateSelectedDisplay():this.addSingleBadge(t,i),this.renderOptions(),this.isOpen&&this.positionDropdown(),this.maintainFocusInMultipleMode(),this.onStateChange(this.state)}async addSingleBadge(t,e){let i=this.labelRepository[t];if(yt(i)&&(i=this.getSelectedOptionLabel(t),R(i)&&(this.labelRepository[t]=i)),yt(i)&&this.getOptionLabelsUsing)try{let s=await this.getOptionLabelsUsing();for(let r of s)if(R(r)&&r.value===t&&r.label!==void 0){i=r.label,this.labelRepository[t]=i;break}}catch(s){console.error("Error fetching option label:",s)}yt(i)&&(i=t);let o=this.createBadgeElement(t,i);e.appendChild(o)}maintainFocusInMultipleMode(){if(this.isSearchable&&this.searchInput){this.searchInput.focus();return}let t=this.getVisibleOptions();if(t.length!==0){if(this.selectedIndex=-1,Array.isArray(this.state)&&this.state.length>0){for(let e=0;e<t.length;e++)if(this.state.includes(t[e].getAttribute("data-value"))){this.selectedIndex=e;break}}this.selectedIndex===-1&&(this.selectedIndex=0),t[this.selectedIndex].classList.add("fi-selected"),t[this.selectedIndex].focus()}}disable(){this.isDisabled||(this.isDisabled=!0,this.applyDisabledState(),this.isOpen&&this.closeDropdown())}enable(){this.isDisabled&&(this.isDisabled=!1,this.applyDisabledState())}applyDisabledState(){if(this.isDisabled){if(this.selectButton.setAttribute("disabled","disabled"),this.selectButton.setAttribute("aria-disabled","true"),this.selectButton.classList.add("fi-disabled"),this.isMultiple&&this.container.querySelectorAll(".fi-select-input-badge-remove").forEach(e=>{e.setAttribute("disabled","disabled"),e.classList.add("fi-disabled")}),!this.isMultiple&&this.canSelectPlaceholder){let t=this.container.querySelector(".fi-select-input-value-remove-btn");t&&(t.setAttribute("disabled","disabled"),t.classList.add("fi-disabled"))}this.isSearchable&&this.searchInput&&(this.searchInput.setAttribute("disabled","disabled"),this.searchInput.classList.add("fi-disabled"))}else{if(this.selectButton.removeAttribute("disabled"),this.selectButton.removeAttribute("aria-disabled"),this.selectButton.classList.remove("fi-disabled"),this.isMultiple&&this.container.querySelectorAll(".fi-select-input-badge-remove").forEach(e=>{e.removeAttribute("disabled"),e.classList.remove("fi-disabled")}),!this.isMultiple&&this.canSelectPlaceholder){let t=this.container.querySelector(".fi-select-input-value-remove-btn");t&&(t.removeAttribute("disabled"),t.classList.add("fi-disabled"))}this.isSearchable&&this.searchInput&&(this.searchInput.removeAttribute("disabled"),this.searchInput.classList.remove("fi-disabled"))}}destroy(){this.selectButton&&this.buttonClickListener&&this.selectButton.removeEventListener("click",this.buttonClickListener),this.documentClickListener&&document.removeEventListener("click",this.documentClickListener),this.selectButton&&this.buttonKeydownListener&&this.selectButton.removeEventListener("keydown",this.buttonKeydownListener),this.dropdown&&this.dropdownKeydownListener&&this.dropdown.removeEventListener("keydown",this.dropdownKeydownListener),this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null),this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener,!0),this.scrollListener=null),this.refreshOptionLabelListener&&window.removeEventListener("filament-forms::select.refreshSelectedOptionLabel",this.refreshOptionLabelListener),this.isOpen&&this.closeDropdown(),this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null),this.container&&this.container.remove()}};function to({canOptionLabelsWrap:n,canSelectPlaceholder:t,getOptionLabelUsing:e,getOptionLabelsUsing:i,getOptionsUsing:o,getSearchResultsUsing:s,getPaginatedOptionsUsing:r,hasDynamicOptions:l,hasDynamicSearchResults:c,hasInitialNoOptionsMessage:d,hasInfiniteScroll:f,initialOptionLabel:h,initialOptionLabels:g,initialState:p,isAutofocused:m,isDisabled:b,isHtmlAllowed:x,isMultiple:D,isReorderable:S,isSearchable:A,livewireId:C,loadingMessage:L,maxItems:V,maxItemsMessage:Z,noOptionsMessage:tt,noSearchResultsMessage:M,options:z,optionsLimit:X,perPage:nt,placeholder:K,position:B,searchDebounce:G,searchingMessage:F,searchPrompt:Y,searchableOptionFields:P,state:j,statePath:Mt}){return{select:null,state:j,isLoadingMore:!1,offset:0,hasMore:!0,currentSearch:null,init(){this.select=new Ce({canOptionLabelsWrap:n,canSelectPlaceholder:t,element:this.$refs.select,getOptionLabelUsing:e,getOptionLabelsUsing:i,getOptionsUsing:f?null:o,getSearchResultsUsing:f?null:s,hasDynamicOptions:f?!1:l,hasDynamicSearchResults:f?!1:c,hasInitialNoOptionsMessage:d,initialOptionLabel:h,initialOptionLabels:g,initialState:p,isAutofocused:m,isDisabled:b,isHtmlAllowed:x,isMultiple:D,isReorderable:S,isSearchable:A,livewireId:C,loadingMessage:L,maxItems:V,maxItemsMessage:Z,noOptionsMessage:tt,noSearchResultsMessage:M,onStateChange:H=>{this.state=H},options:z,optionsLimit:X,placeholder:K,position:B,searchableOptionFields:P,searchDebounce:G,searchingMessage:F,searchPrompt:Y,state:this.state,statePath:Mt}),this.$watch("state",H=>{this.select&&this.select.state!==H&&(this.select.state=H,this.select.updateSelectedDisplay(),this.select.renderOptions())}),f&&this.setupInfiniteScroll()},setupInfiniteScroll(){this.select.searchInput&&this.select.searchInput.addEventListener("input",async _t=>{this.select.isDisabled||(this.currentSearch=_t.target.value,this.offset=0,this.hasMore=!0,this.select.options=[],this.select.renderOptions(),await this.loadMoreOptions())}),this.select.dropdown.addEventListener("scroll",()=>{this.handleScroll()});let H=this.select.openDropdown.bind(this.select);this.select.openDropdown=async()=>{H(),this.offset===0&&this.hasMore&&await this.loadMoreOptions()}},handleScroll(){if(this.isLoadingMore||!this.hasMore)return;let H=this.select.dropdown;H.scrollHeight-H.scrollTop-H.clientHeight<50&&this.loadMoreOptions()},async loadMoreOptions(){if(!(this.isLoadingMore||!this.hasMore)){this.isLoadingMore=!0;try{let H=await r(this.offset,this.currentSearch),_t=H.options??[];this.hasMore=H.hasMore??!1,this.select.options=[...this.select.options,..._t],this.select.renderOptions(),this.offset+=nt}catch(H){console.error("Failed to load options:",H)}finally{this.isLoadingMore=!1}}},destroy(){this.select&&(this.select.destroy(),this.select=null)}}}a(to,"infiniteSelectFormComponent");export{to as default};
/*! Bundled license information:

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.6
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/
